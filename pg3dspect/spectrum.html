<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<style>:root{color-scheme: dark light; font-family: sans-serif;}</style>
	<title>Pixel Gun Music Spectrum</title>
</head>
<body>
	<div id="settings">
		<figure>
			<figcaption>Audio file</figcaption>
			<input id="fileinput" type="file" accept="audio/*" onchange="playAudio()">
		</figure>

		<figure>
			<figcaption>Background image</figcaption>
			<input id="bgInput" type="file" accept="image/*" onchange="changeBg()">
		</figure>

		<figure>
			<figcaption>Background video</figcaption>
			<input id="bgVideoInput" type="file" accept="video/*" onchange="changeBgVideo()">
		</figure>

		<figure>
			<figcaption>Gradient color</figcaption>
			<input id="gradientStartInput" type="color" value="#00FFFF" oninput="changeSettings()">
			<input id="gradientEndInput" type="color" value="#0000FF" oninput="changeSettings()">
		</figure>

		<figure>
			<figcaption>Gradient opacity</figcaption>
			<input id="opacityInput" type="range" value="255" min="0" max="255" step="1" oninput="changeSettings()">
		</figure>

		<div hidden>
			<figure>
				<figcaption>Smoothing time constant</figcaption>
				<input id="stcInput" type="number" step="0.01" value="0.5" max="1" min="0" oninput="changeSettings()">
			</figure>

			<figure>
				<figcaption>FFT Size</figcaption>
				<select id="fftInput" oninput="changeSettings()">
					<option value="32">32</option>
					<option value="64">64</option>
					<option value="128">128</option>
					<option value="256">256</option>
					<option value="512">512</option>
					<option value="1024">1024</option>
					<option value="2048">2048</option>
					<option value="4096">4096</option>
					<option value="8192" selected>8192</option>
					<option value="16384">16384</option>
					<option value="32768">32768</option>
				</select>
			</figure>

			<figure>
				<figcaption>Min dB</figcaption>
				<input id="minDbInput" type="number" value="-50" max="-31" oninput="changeSettings()">
			</figure>

			<figure>
				<figcaption>Smooth points</figcaption>
				<input id="smoothInput" type="number" value="2" min="0">
			</figure>

			<figure>
				<figcaption>End point</figcaption>
				<input id="endDataInput" type="number" value="64" min="21" >
			</figure>

		</div>

	</div>
	<img id="logoimg" src="logo.svg" hidden>
	<video id="bgVideo" hidden loop muted></video>
	<audio id="audioplayer" controls></audio>
	<button onclick="startVideo();">Start</button>
	<button onclick="stopVideo();">Stop</button>
	<button onclick="startRecording();">Start recording</button>
	<button onclick="stopRecording();">Stop recording</button>
	<button onclick="canvas.requestFullscreen(); showBlack = true">Fullscreen</button>
	<canvas id="output" width="1920" height="1080" onclick="startVideo()" style="height: 480px; background-size:cover; background-repeat:no-repeat; background-position: center;"></canvas>
	<script src="spectrum.js"></script>
</body>
</html>
